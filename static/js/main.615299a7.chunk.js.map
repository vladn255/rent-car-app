{"version":3,"sources":["const.js","components/socials/socials.jsx","components/main-nav/main-nav.jsx","components/banner/banner.jsx","components/main-footer/main-footer.jsx","components/main-header/main-header.jsx","components/slider/slider.jsx","components/main/main.jsx","utils.js","store/action.js","store/api-action.js","components/order-receipt-item/order-receipt-item.jsx","components/order-receipt/order-receipt.jsx","components/tab-form-button/tab-form-button.jsx","components/text-input/text-input.jsx","components/radio-input/radio-input.jsx","components/checkbox-input/checkbox-input.jsx","components/features-form/features-form.jsx","components/map-component/map-component.jsx","components/autocomplete-text-inputs/autocomplete-text-inputs.jsx","components/location-form/location-form.jsx","components/model-photo/model-photo.jsx","components/model-form-item/model-form-item.jsx","components/model-form/model-form.jsx","components/order-nav-item/order-nav-item.jsx","components/order-nav/order-nav.jsx","components/modal-checkout/modal-checkout.jsx","components/result-form/result-form.jsx","components/order/order.jsx","components/order-receipt-checkout/order-receipt-checkout.jsx","components/checkout/checkout.jsx","components/app/app.jsx","store/reducer.js","services/api.js","index.js"],"names":["SLIDES_INFO","title","text","buttonColor","imgURL","LANGUAGES","RoutePath","Tabs","Map","TabNames","location","model","additions","result","ActionType","Additionals","ReceiptNames","ReceiptCosts","MODEL_FORM_RADIO_DEFAULT_NAME","FEATURES_FORM_COLOR_DEFAULT_NAME","TIME_FORMAT","Socials","className","href","width","height","viewBox","fill","xmlns","aria-label","fillRule","clipRule","d","MainNav","useState","isMenuOpened","setIsMenuOpened","isLangEng","setIsLangEng","onClick","evt","preventDefault","type","Banner","to","MainFooter","MainHeader","additionalStyleName","SwiperCore","use","Navigation","Pagination","Slider","navigation","pagination","clickable","wrapperTag","tag","map","slide","style","background","process","Main","dayjs","extend","CustomParseFormat","isDateValid","dateType","valid","value","length","changeTab","tab","payload","fetchModelsDataEntity","dispatch","_getState","api","get","then","data","fetchModelsData","catch","err","console","log","fetchCitiesEntity","fetchCitiesData","fetchPickpoint","fetchPickpointData","postOrder","orderData","post","id","setOrderId","fetchOrderData","_dispatch","parseDate","dateNumber","format","orderStatusId","city","point","car","color","dateFrom","dateTo","rate","price","isFullTank","isNeedChildChair","isRightWheel","adaptPostToOrder","OrderReceiptItem","name","MINUTES_IN_AN_HOUR","RateUnitDividers","getDurationCost","duration","divider","unit","Math","floor","OrderReceipt","useDispatch","useSelector","state","pickpoint","dateStart","dateFinish","getDuration","finishData","startData","diff","durationInMinutes","trunc","HOURS_IN_A_DAY","getDaysDuration","getHoursDuration","isNaN","getMinutesDuration","initialDetails","join","priceMin","details","setDetails","cost","setCost","useEffect","newDetails","slice","forEach","feature","newItem","includes","push","JSON","stringify","newCost","list","item","getCurrentCost","filter","detail","TabFormButton","isValid","label","disabled","TextInput","setDataValue","inputInfo","additionalClass","placeholder","validationText","inputRef","useRef","onChange","target","required","ref","htmlFor","data-name","current","RadioInput","form","setCurrentFilterValue","currentFilter","checked","CheckboxInput","сhecked","toString","DateInputs","AdditionalsCheckboxes","getRateLabel","FeaturesForm","stateAdditions","modelColors","setIsValid","currentColor","setCurrentColor","currentDate","setCurrentDate","currentRate","setCurrentRate","rateData","setRateData","additionsList","setAdditionsList","colorRadios","setColorValue","setDateValue","dateValue","date","setRateValue","activeRate","find","setAdditionsValue","newList","index","indexOf","splice","response","parsedRateData","rateTypeId","input","defaultlMark","MapComponent","activeCity","activeMarker","markersData","defaultZoom","center","controls","savedYmaps","setSavedYmaps","zoom","setZoom","activeCityCoords","setActiveCityCoords","activeMarkerCoords","setActiveMarkerCoords","markers","setMarkers","unmountSequence","geocode","ymaps","callback","results","coords","geoObjects","geometry","getCoordinates","fullAddress","newMarkers","mark","marker","a","fullMarkerAddress","getGeocodedMarkers","query","apikey","load","onLoad","options","preset","getFilteredSuggestions","targetValue","setter","toLowerCase","AutocompleteTextInputs","values","citiesData","pickpointData","resetLocationData","inputCityRef","inputPickpointRef","isListVisible","setIsListVisible","cities","setCities","pickpoints","setPickpoints","Labels","LocationForm","locationData","setLocationData","setCitiesData","setPickpointData","setActiveCity","setActiveMarker","filteredPoints","cityId","address","checkIsValid","locationValue","filteredCity","ModelPhoto","imgSrc","src","alt","ModelFormItem","priceMax","isActive","setModelValue","FORM_NAME","MODEL_FORM_RADIO_DEFAULT","FEATURES_FORM_COLOR_DEFAULT","ModelForm","initialModelsData","modelsData","currentModel","setCurrentModel","activeFilter","setCurrentFilter","models","setModels","categories","setCategories","categoryData","categoryTags","category","concat","modelId","activeModel","colors","filterValue","categoryId","path","thumbnail","OrderNavItem","tabButtonClickHandler","isActiveTab","isTabDisabled","data-tab","OrderNav","activeTab","orderNavList","closest","dataset","ModalCheckout","isModalOpen","clickHandler","history","useHistory","getPostData","pointId","carId","rateId","getAdditionalsStatus","dateString","valueOf","adaptOrderToPost","ResultForm","featuresList","fuelValue","setIsModalOpen","fuel","tank","setFuelTank","modalButtonClickHandler","number","connect","currentTab","OrderReceiptCheckout","getAdditions","Checkout","useParams","setOrderData","setFuel","App","exact","initialState","order","reducer","action","bearerCode","btoa","axios","create","headers","baseURL","timeout","interceptors","createAPI","store","createStore","applyMiddleware","thunk","withExtraArgument","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.615299a7.chunk.js","sourcesContent":["const SLIDES_INFO = [\r\n    {\r\n        title: 'Бесплатная парковка',\r\n        text: 'Оставляйте машину на платных городских парковках и разрешенных местах, не нарушая ПДД, а также в аэропортах.',\r\n        buttonColor: 'green',\r\n        imgURL: '/img/slides/free-parking-slide.png'\r\n    },\r\n    {\r\n        title: 'Страховка',\r\n        text: 'Полная страховка автомобиля.',\r\n        buttonColor: 'blue',\r\n        imgURL: '/img/slides/insurance-slide.png'\r\n    },\r\n    {\r\n        title: 'Бензин',\r\n        text: 'Полный бак на любой заправке города за наш счёт',\r\n        buttonColor: 'red',\r\n        imgURL: '/img/slides/fuel-slide.png'\r\n    },\r\n    {\r\n        title: 'Обслуживание',\r\n        text: 'Автомобиль проходит еженедельное ТО',\r\n        buttonColor: 'purple',\r\n        imgURL: '/img/slides/service-slide.png'\r\n    }\r\n];\r\n\r\nconst LANGUAGES = {\r\n    rus: 'Рус',\r\n    eng: 'Eng'\r\n};\r\n\r\nconst RoutePath = {\r\n    MAIN: '/rent-car-app',\r\n    ORDER: '/order',\r\n    CHECKOUT: '/checkout/'\r\n};\r\n\r\nconst Tabs = new Map([\r\n    ['LOCATION', 'location'],\r\n    ['MODEL', 'model'],\r\n    ['ADDITIONS', 'additions'],\r\n    ['RESULT', 'result']\r\n]);\r\n\r\nconst TabNames = {\r\n    location: 'Местоположение',\r\n    model: 'Модель',\r\n    additions: 'Дополнительно',\r\n    result: 'Итого'\r\n};\r\n\r\nconst ActionType = {\r\n    CHANGE_TAB: \"changeTab\",\r\n    SET_LOCATION: \"setLocation\",\r\n    SET_MODEL: \"setModel\",\r\n    SET_ACTIVE_FILTER: \"setActiveFilter\",\r\n    SET_COLOR: \"setColor\",\r\n    SET_DATE: \"setDate\",\r\n    SET_RATE: \"setRate\",\r\n    SET_ADDITIONS: \"setAdditions\",\r\n    SET_MODELS_DATA: \"setModelsData\",\r\n    SET_CITIES_DATA: \"setCitiesData\",\r\n    SET_PICKPOINT_DATA: \"setPickpointData\",\r\n    SET_MODEL_COLORS: \"setModelColors\",\r\n    SET_FUEL_TANK: \"setFuelTank\",\r\n    SET_ORDER_ID: \"setOrderId\",\r\n    SET_PRICE: \"setPrice\",\r\n    SET_ORDER_DATA: \"setOrderData\"\r\n};\r\n\r\nconst Additionals = {\r\n    FULL_TANK: \"full-tank\",\r\n    CHILD_SEAT: \"child-seat\",\r\n    RIGHT_WHEEL: \"right-wheel\"\r\n}\r\n\r\nconst ReceiptNames = {\r\n    \"full-tank\": \"Полный бак\",\r\n    \"child-seat\": \"Детское кресло\",\r\n    \"right-wheel\": \"Правый руль\",\r\n}\r\n\r\nconst ReceiptCosts = {\r\n    \"full-tank\": 500,\r\n    \"child-seat\": 200,\r\n    \"right-wheel\": 1600,\r\n}\r\n\r\nconst MODEL_FORM_RADIO_DEFAULT_NAME = \"Все модели\"\r\n\r\nconst FEATURES_FORM_COLOR_DEFAULT_NAME = \"Любой\"\r\n\r\nconst TIME_FORMAT = 'DD.MM.YYYY HH:mm'\r\n\r\nconst DATE_LETTER_COUNT = 16;\r\n\r\nconst ORDER_STATUS_ID = '5e26a191099b810b946c5d89';\r\n\r\nconst FULL_TANK_FUEL = 100;\r\n\r\nexport {\r\n    SLIDES_INFO,\r\n    LANGUAGES,\r\n    RoutePath,\r\n    Tabs,\r\n    TabNames,\r\n    ActionType,\r\n    Additionals,\r\n    ReceiptNames,\r\n    ReceiptCosts,\r\n    MODEL_FORM_RADIO_DEFAULT_NAME,\r\n    TIME_FORMAT,\r\n    FEATURES_FORM_COLOR_DEFAULT_NAME,\r\n    DATE_LETTER_COUNT,\r\n    ORDER_STATUS_ID,\r\n    FULL_TANK_FUEL\r\n}","import React from \"react\";\r\n\r\nconst Socials = () => {\r\n    return (\r\n        <ul className=\"main-nav__socials socials\">\r\n            <li className=\"socials__item socials__item--telegram\">\r\n                <a className=\"socials__link\" href=\"/#\">\r\n                    <svg className=\"socials__icon\" width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" aria-label=\"telegram link\">\r\n                        <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M32 16C32 24.8366 24.8366 32 16 32C7.16344 32 0 24.8366 0 16C0 7.16344 7.16344 0 16 0C24.8366 0 32 7.16344 32 16ZM10.7144 14.5343C9.11157 15.2341 7.46472 15.9532 5.95883 16.7826L5.95873 16.7828C5.17241 17.3585 6.21758 17.7657 7.19803 18.1476C7.35391 18.2084 7.50814 18.2685 7.65313 18.3285C7.77377 18.3656 7.89647 18.4047 8.02079 18.4443C9.11124 18.7917 10.3272 19.1791 11.3858 18.5963C13.1248 17.5973 14.766 16.4424 16.4059 15.2883C16.9432 14.9102 17.4803 14.5322 18.0207 14.1598C18.046 14.1436 18.0746 14.1251 18.1058 14.1048C18.5662 13.8064 19.6016 13.1353 19.2186 14.06C18.313 15.0504 17.3429 15.9272 16.3676 16.8087C15.7103 17.4027 15.0506 17.999 14.4066 18.6336C13.8457 19.0894 13.2633 20.0059 13.8914 20.644C15.3379 21.6567 16.8071 22.6449 18.2755 23.6325C18.7533 23.9538 19.231 24.2752 19.7079 24.5972C20.516 25.2425 21.779 24.7206 21.9567 23.7123C22.0357 23.2485 22.115 22.7847 22.1944 22.3208C22.6328 19.7578 23.0713 17.1938 23.4587 14.6223C23.5113 14.219 23.571 13.8156 23.6307 13.4121C23.7755 12.434 23.9204 11.4547 23.9656 10.4714C23.849 9.49009 22.6592 9.70585 21.997 9.9265C18.5935 11.2216 15.224 12.6126 11.8679 14.0282C11.4877 14.1967 11.1023 14.3649 10.7144 14.5343Z\" fill=\"currentColor\" />\r\n                    </svg>\r\n                </a>\r\n            </li>\r\n            <li className=\"socials__item socials__item--facebook\">\r\n                <a className=\"socials__link\" href=\"/#\">\r\n                    <svg className=\"socials__icon\" width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" aria-label=\"facebook link\">\r\n                        <path d=\"M32 16C32 7.1625 24.8375 0 16 0C7.1625 0 0 7.1625 0 16C0 23.9875 5.85 30.6062 13.5 31.8062V20.625H9.4375V16H13.5V12.475C13.5 8.46563 15.8875 6.25 19.5438 6.25C21.2938 6.25 23.125 6.5625 23.125 6.5625V10.5H21.1063C19.1188 10.5 18.5 11.7344 18.5 13V16H22.9375L22.2281 20.625H18.5V31.8062C26.15 30.6062 32 23.9875 32 16Z\" fill=\"currentColor\" />\r\n                    </svg>\r\n                </a>\r\n            </li>\r\n            <li className=\"socials__item socials__item--instagram\">\r\n                <a className=\"socials__link\" href=\"/#\">\r\n                    <svg className=\"socials__icon\" width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" aria-label=\"instagram link\">\r\n                        <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M16 0C7.16344 0 0 7.16344 0 16C0 24.8366 7.16344 32 16 32C24.8366 32 32 24.8366 32 16C32 7.16344 24.8366 0 16 0ZM12.4822 7.51824C13.3924 7.47682 13.6833 7.46668 16.0008 7.46668H15.9981C18.3164 7.46668 18.6062 7.47682 19.5164 7.51824C20.4248 7.55984 21.0453 7.70366 21.5893 7.91469C22.1511 8.13247 22.6258 8.42403 23.1004 8.8987C23.5751 9.37301 23.8667 9.84911 24.0853 10.4104C24.2951 10.9529 24.4391 11.573 24.4818 12.4815C24.5227 13.3917 24.5333 13.6826 24.5333 16.0001C24.5333 18.3176 24.5227 18.6078 24.4818 19.518C24.4391 20.4261 24.2951 21.0464 24.0853 21.5891C23.8667 22.1502 23.5751 22.6263 23.1004 23.1006C22.6263 23.5753 22.1509 23.8676 21.5898 24.0855C21.0469 24.2965 20.4261 24.4404 19.5176 24.482C18.6074 24.5234 18.3174 24.5335 15.9997 24.5335C13.6824 24.5335 13.3917 24.5234 12.4815 24.482C11.5732 24.4404 10.9529 24.2965 10.41 24.0855C9.84909 23.8676 9.37299 23.5753 8.89886 23.1006C8.42436 22.6263 8.1328 22.1502 7.91467 21.589C7.70382 21.0464 7.56 20.4263 7.51822 19.5178C7.47697 18.6076 7.46666 18.3176 7.46666 16.0001C7.46666 13.6826 7.47733 13.3915 7.51804 12.4813C7.55893 11.5732 7.70293 10.9529 7.91449 10.4102C8.13316 9.84911 8.42472 9.37301 8.89939 8.8987C9.3737 8.4242 9.8498 8.13265 10.411 7.91469C10.9536 7.70366 11.5737 7.55984 12.4822 7.51824Z\" fill=\"currentColor\" />\r\n                        <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M15.2353 9.00445C15.3839 9.00422 15.5438 9.00429 15.7164 9.00437L16.0008 9.00445C18.2792 9.00445 18.5493 9.01263 19.449 9.05352C20.281 9.09156 20.7326 9.23059 21.0334 9.34739C21.4316 9.50206 21.7155 9.68695 22.014 9.98562C22.3127 10.2843 22.4976 10.5687 22.6526 10.967C22.7694 11.2674 22.9086 11.719 22.9465 12.551C22.9874 13.4505 22.9963 13.7208 22.9963 15.9981C22.9963 18.2755 22.9874 18.5457 22.9465 19.4453C22.9084 20.2773 22.7694 20.7288 22.6526 21.0293C22.4979 21.4275 22.3127 21.7111 22.014 22.0096C21.7153 22.3082 21.4318 22.4931 21.0334 22.6478C20.7329 22.7651 20.281 22.9038 19.449 22.9418C18.5494 22.9827 18.2792 22.9916 16.0008 22.9916C13.7222 22.9916 13.4522 22.9827 12.5526 22.9418C11.7206 22.9034 11.269 22.7644 10.968 22.6476C10.5698 22.4929 10.2854 22.3081 9.98669 22.0094C9.68802 21.7107 9.50313 21.427 9.34811 21.0286C9.23131 20.7281 9.09211 20.2766 9.05424 19.4446C9.01335 18.545 9.00517 18.2748 9.00517 15.996C9.00517 13.7172 9.01335 13.4484 9.05424 12.5488C9.09228 11.7168 9.23131 11.2653 9.34811 10.9645C9.50278 10.5662 9.68802 10.2818 9.98669 9.98313C10.2854 9.68446 10.5698 9.49957 10.968 9.34455C11.2688 9.22721 11.7206 9.08854 12.5526 9.05032C13.3398 9.01476 13.6449 9.0041 15.2353 9.00232V9.00445ZM20.5559 10.4213C19.9905 10.4213 19.5319 10.8795 19.5319 11.445C19.5319 12.0103 19.9905 12.469 20.5559 12.469C21.1212 12.469 21.5799 12.0103 21.5799 11.445C21.5799 10.8797 21.1212 10.421 20.5559 10.421V10.4213ZM11.6185 16.0001C11.6185 13.58 13.5806 11.6179 16.0006 11.6178C18.4207 11.6178 20.3824 13.58 20.3824 16.0001C20.3824 18.4202 18.4209 20.3815 16.0008 20.3815C13.5807 20.3815 11.6185 18.4202 11.6185 16.0001Z\" fill=\"currentColor\" />\r\n                        <path d=\"M16.0008 13.1556C17.5717 13.1556 18.8453 14.4291 18.8453 16.0001C18.8453 17.571 17.5717 18.8446 16.0008 18.8446C14.4298 18.8446 13.1563 17.571 13.1563 16.0001C13.1563 14.4291 14.4298 13.1556 16.0008 13.1556Z\" fill=\"currentColor\" />\r\n                    </svg>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default Socials;","import React, { useState } from \"react\";\r\n\r\nimport { LANGUAGES } from \"../../const.js\";\r\n\r\nimport Socials from \"../socials/socials\";\r\n\r\nconst MainNav = () => {\r\n    const [isMenuOpened, setIsMenuOpened] = useState(false);\r\n    const [isLangEng, setIsLangEng] = useState(true);\r\n\r\n    const menuToggleClickHandler = (evt) => {\r\n        evt.preventDefault();\r\n        setIsMenuOpened(!isMenuOpened);\r\n    }\r\n\r\n    const langToggleClickHandler = (evt) => {\r\n        evt.preventDefault();\r\n        setIsLangEng(!isLangEng);\r\n    }\r\n\r\n    return (\r\n        <nav className={`main-nav main-nav${isMenuOpened ? '--opened' : '--closed'}`}>\r\n            <div className=\"main-nav__burger-wrapper\" onClick={menuToggleClickHandler}>\r\n                <button className=\"main-nav__burger\" type=\"button\">\r\n                    <span className=\"visually-hidden\">Открыть/закрыть меню</span>\r\n                </button>\r\n            </div>\r\n            <ul className=\"main-nav__features features\">\r\n                <li className=\"features__item\">\r\n                    <a className=\"features__link\" href=\"/#\">\r\n                        Парковка\r\n                    </a>\r\n                </li>\r\n                <li className=\"features__item\">\r\n                    <a className=\"features__link\" href=\"/#\">\r\n                        Страховка\r\n                    </a>\r\n                </li>\r\n                <li className=\"features__item\">\r\n                    <a className=\"features__link\" href=\"/#\">\r\n                        Бензин\r\n                    </a>\r\n                </li>\r\n                <li className=\"features__item\">\r\n                    <a className=\"features__link\" href=\"/#\">\r\n                        Обслуживание\r\n                    </a>\r\n                </li>\r\n            </ul>\r\n            <Socials />\r\n            <div className=\"main-nav__lang-wrapper\" onClick={langToggleClickHandler}>\r\n                <button className=\"main-nav__lang-toggle\" type=\"button\" >\r\n                    {isLangEng ? LANGUAGES.eng : LANGUAGES.rus}\r\n                </button>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default MainNav;","import React from \"react\";\r\n\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { RoutePath } from \"../../const\";\r\n\r\nconst Banner = () => {\r\n    return (\r\n        <section className=\"banner\">\r\n            <h2 className=\"banner__title\">Каршеринг<span className=\"banner__title-brand\">Need for drive</span></h2>\r\n            <p className=\"banner__text\">\r\n                Поминутная аренда авто твоего города\r\n            </p>\r\n            <Link to={RoutePath.ORDER} className=\"button button--banner\">Забронировать</Link>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Banner;","import React from \"react\";\r\n\r\nconst MainFooter = () => {\r\n    return (\r\n        <footer className=\"main-footer\">\r\n            <div className=\"main-footer__wrapper\">\r\n                <p className=\"main-footer__copyright\">© 2016-2019 «Need for drive»</p>\r\n                <a className=\"main-footer__telephone link\" href=\"tel:84952342244\">8 (495) 234-22-44</a>\r\n            </div>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default MainFooter;","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\n\r\nconst MainHeader = ({ additionalStyleName }) => {\r\n    return (\r\n        <header className={`main-header ${additionalStyleName || \"\"}`}>\r\n            <h1 className=\"main-header__title\" >Need for drive</h1>\r\n            <span className=\"main-header__location\">Ульяновск</span>\r\n        </header>\r\n    )\r\n}\r\n\r\nMainHeader.propTypes = {\r\n    additionalStyleName: PropTypes.string.isRequired\r\n}\r\n\r\nexport default MainHeader;","import React from \"react\";\r\n\r\nimport SwiperCore, { Navigation, Pagination } from 'swiper';\r\nimport { Swiper, SwiperSlide } from \"swiper/react\";\r\n\r\nimport { SLIDES_INFO } from '../../const';\r\n\r\nSwiperCore.use([Navigation, Pagination]);\r\n\r\nconst Slider = () => {\r\n\r\n    return (\r\n        <Swiper\r\n            navigation\r\n            pagination={{ clickable: false }}\r\n            wrapperTag={'ul'}\r\n            tag={'section'}\r\n        >\r\n            {SLIDES_INFO.map((slide) => {\r\n                return (\r\n                    <SwiperSlide tag={'li'} key={`slide-${slide.title}`}>\r\n                        <article className=\"slider__article\" style={{ background: `linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, #000000 100%), url(${process.env.PUBLIC_URL}${slide.imgURL})` }}>\r\n                            <div className=\"slider__wrapper\">\r\n                                <h3 className=\"slider__title\">{slide.title}</h3>\r\n                                <p className=\"slider__text\">{slide.text}</p>\r\n                                <a className={`button button--slide button--${slide.buttonColor}`} href='/#'>Подробнее</a>\r\n                            </div>\r\n                        </article>\r\n                    </SwiperSlide>\r\n                )\r\n            })}\r\n\r\n        </Swiper>\r\n    );\r\n}\r\nexport default Slider;","import React from \"react\";\r\n\r\nimport Banner from \"../banner/banner.jsx\";\r\nimport MainFooter from \"../main-footer/main-footer.jsx\";\r\nimport MainHeader from \"../main-header/main-header.jsx\";\r\nimport Slider from \"../slider/slider.jsx\";\r\n\r\nconst Main = () => {\r\n    return (\r\n        <main className=\"main\">\r\n            <section className=\"main__wrapper\">\r\n                <MainHeader additionalStyleName={\"\"}/>\r\n                <Banner />\r\n                <MainFooter />\r\n            </section>\r\n\r\n            <Slider />\r\n        </main>\r\n    )\r\n}\r\n\r\nexport default Main;","import dayjs from \"dayjs\";\r\nimport CustomParseFormat from \"dayjs/plugin/customParseFormat\";\r\n\r\nimport { DATE_LETTER_COUNT, ORDER_STATUS_ID, Additionals, FULL_TANK_FUEL, TIME_FORMAT } from \"./const.js\"\r\n\r\ndayjs.extend(CustomParseFormat)\r\n\r\nconst isDateValid = (dateType) => dateType.valid && dateType.value.length === DATE_LETTER_COUNT\r\n\r\nconst adaptOrderToPost = (cityId, pointId, carId, color, dateFrom, dateTo, rateId, price, additions) => {\r\n    const getAdditionalsStatus = (feature) => {\r\n        return additions.includes(feature)\r\n    }\r\n    const parseDate = (dateString) => {\r\n        return dayjs(dateString, TIME_FORMAT).valueOf()\r\n    }\r\n\r\n    return {\r\n        \"orderStatusId\": ORDER_STATUS_ID,\r\n        \"cityId\": cityId,\r\n        \"pointId\": pointId,\r\n        \"carId\": carId,\r\n        \"color\": color,\r\n        \"dateFrom\": parseDate(dateFrom),\r\n        \"dateTo\": parseDate(dateTo),\r\n        \"rateId\": rateId,\r\n        \"price\": price,\r\n        \"isFullTank\": getAdditionalsStatus(Additionals.FULL_TANK),\r\n        \"isNeedChildChair\": getAdditionalsStatus(Additionals.CHILD_SEAT),\r\n        \"isRightWheel\": getAdditionalsStatus(Additionals.RIGHT_WHEEL)\r\n    }\r\n}\r\n\r\nconst adaptPostToOrder = (data) => {\r\n    const parseDate = (dateNumber) => {\r\n        return dayjs(dateNumber).format(TIME_FORMAT)\r\n    }\r\n\r\n    return {\r\n        orderStatusId: data[\"orderStatusId\"],\r\n        city: data[\"cityId\"],\r\n        point: data[\"pointId\"],\r\n        car: data[\"carId\"],\r\n        color: data[\"color\"],\r\n        dateFrom: parseDate(data[\"dateFrom\"]),\r\n        dateTo: parseDate(data[\"dateTo\"]),\r\n        rate: data[\"rateId\"],\r\n        price: data[\"price\"],\r\n        isFullTank: data[\"isFullTank\"],\r\n        isNeedChildChair: data[\"isNeedChildChair\"],\r\n        isRightWheel: data[\"isRightWheel\"]\r\n    }\r\n}\r\n\r\nconst getFuelTank = (featuresList, fuelValue) => {\r\n    return featuresList.includes(Additionals.FULL_TANK)\r\n        ? FULL_TANK_FUEL\r\n        : fuelValue\r\n}\r\n\r\nexport {\r\n    isDateValid,\r\n    adaptOrderToPost,\r\n    adaptPostToOrder,\r\n    getFuelTank\r\n}","import { ActionType } from \"../const\";\r\n\r\nconst changeTab = (tab) => ({\r\n    type: ActionType.CHANGE_TAB,\r\n    payload: tab\r\n});\r\n\r\nconst setLocation = (location) => ({\r\n    type: ActionType.SET_LOCATION,\r\n    payload: location\r\n});\r\n\r\nconst setModel = (model) => ({\r\n    type: ActionType.SET_MODEL,\r\n    payload: model\r\n});\r\n\r\nconst setActiveFilter = (filter) => ({\r\n    type: ActionType.SET_ACTIVE_FILTER,\r\n    payload: filter\r\n})\r\n\r\nconst setColor = (color) => ({\r\n    type: ActionType.SET_COLOR,\r\n    payload: color\r\n});\r\n\r\nconst setRate = (rate) => ({\r\n    type: ActionType.SET_RATE,\r\n    payload: rate\r\n});\r\n\r\nconst setAdditions = (additions) => ({\r\n    type: ActionType.SET_ADDITIONS,\r\n    payload: additions\r\n});\r\n\r\nconst setDate = (date) => ({\r\n    type: ActionType.SET_DATE,\r\n    payload: date\r\n});\r\n\r\nconst fetchModelsData = (data) => ({\r\n    type: ActionType.SET_MODELS_DATA,\r\n    payload: data\r\n});\r\n\r\nconst fetchCitiesData = (data) => ({\r\n    type: ActionType.SET_CITIES_DATA,\r\n    payload: data\r\n})\r\n\r\nconst fetchPickpointData = (data) => ({\r\n    type: ActionType.SET_PICKPOINT_DATA,\r\n    payload: data\r\n})\r\n\r\nconst setModelColors = (data) => ({\r\n    type: ActionType.SET_MODEL_COLORS,\r\n    payload: data\r\n})\r\n\r\nconst setFuelTank = (fuel) => ({\r\n    type: ActionType.SET_FUEL_TANK,\r\n    payload: fuel\r\n})\r\n\r\nconst setOrderId = (id) => ({\r\n    type: ActionType.SET_ORDER_ID,\r\n    payload: id\r\n})\r\n\r\nconst setPrice = (price) => ({\r\n    type: ActionType.SET_PRICE,\r\n    payload: price\r\n})\r\n\r\nconst setOrderData = (orderData) => ({\r\n    type: ActionType.SET_ORDER_DATA,\r\n    payload: orderData\r\n})\r\n\r\nexport {\r\n    changeTab,\r\n    setLocation,\r\n    setModel,\r\n    setActiveFilter,\r\n    setColor,\r\n    setRate,\r\n    setAdditions,\r\n    setDate,\r\n    fetchModelsData,\r\n    fetchCitiesData,\r\n    fetchPickpointData,\r\n    setModelColors,\r\n    setFuelTank,\r\n    setOrderId,\r\n    setPrice,\r\n    setOrderData\r\n}","import { adaptPostToOrder } from \"../utils.js\";\r\nimport {\r\n    fetchModelsData,\r\n    fetchCitiesData,\r\n    fetchPickpointData,\r\n    setOrderId\r\n} from \"./action.js\";\r\n\r\n\r\nconst fetchModelsDataEntity = () => (dispatch, _getState, api) => (\r\n    api.get('/db/car?&limit=30')\r\n        .then(({ data: { data } }) => {\r\n            dispatch(fetchModelsData(data));\r\n            return data;\r\n        })\r\n        .catch((err) => console.log(err))\r\n)\r\n\r\nconst fetchCitiesEntity = () => (dispatch, _getState, api) => (\r\n    api.get('/db/city')\r\n        .then(({ data: { data } }) => {\r\n            dispatch(fetchCitiesData(data));\r\n            return data;\r\n        })\r\n        .catch((err) => console.log(err))\r\n)\r\n\r\nconst fetchPickpoint = () => (dispatch, _getState, api) => (\r\n    api.get('/db/point')\r\n        .then(({ data: { data } }) => {\r\n            dispatch(fetchPickpointData(data));\r\n            return data;\r\n        })\r\n        .catch((err) => console.log(err))\r\n)\r\n\r\nconst fetchModelTagsDataEntity = () => (_dispatch, _getState, api) => (\r\n    api.get('/db/category')\r\n        .then(({ data: { data } }) => {\r\n            return data;\r\n        })\r\n        .catch((err) => console.log(err))\r\n)\r\n\r\nconst fetchRateDataEntity = () => (_dispatch, _getState, api) => (\r\n    api.get('/db/rate')\r\n        .then(({ data: { data } }) => {\r\n            return data;\r\n        })\r\n        .catch((err) => console.log(err))\r\n)\r\n\r\nconst postOrder = (orderData) => (dispatch, _getState, api) => (\r\n    api.post('/db/order', orderData)\r\n        .then(({ data: { data: { id } } }) => {\r\n            dispatch(setOrderId(id))\r\n            return id\r\n        })\r\n        .catch((err) => console.log(err))\r\n)\r\n\r\nconst deleteOrder = (orderId) => (_dispatch, _getState, api) => (\r\n    api.delete(`/db/order/${orderId}`)\r\n    .then(() => console.log('delete worked'))\r\n        .catch((err) => console.log(err))\r\n)\r\n\r\nconst fetchOrderData = (id) => (_dispatch, _getState, api) => (\r\n    api.get(`/db/order/${id}`)\r\n        .then(({ data: { data } }) => {\r\n            return (adaptPostToOrder(data))\r\n        })\r\n        .catch((err) => console.log(err))\r\n)\r\n\r\nexport {\r\n    fetchModelsDataEntity,\r\n    fetchCitiesEntity,\r\n    fetchPickpoint,\r\n    fetchModelTagsDataEntity,\r\n    fetchRateDataEntity,\r\n    postOrder,\r\n    deleteOrder,\r\n    fetchOrderData\r\n}","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\n\r\nconst OrderReceiptItem = ({name, value}) => {\r\n    return (\r\n        <li className=\"receipt__item\">\r\n            <span className=\"receipt__key\">\r\n                {name}\r\n            </span>\r\n            <span className=\"receipt__value\">\r\n                {value}\r\n            </span>\r\n        </li>\r\n    )\r\n}\r\n\r\nOrderReceiptItem.propTypes = {\r\n    name: PropTypes.string.isRequired,\r\n    value: PropTypes.string.isRequired\r\n}\r\n\r\nexport default OrderReceiptItem;","import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport dayjs from \"dayjs\";\r\nimport CustomParseFormat from \"dayjs/plugin/customParseFormat\";\r\n\r\nimport { ReceiptNames, TIME_FORMAT, ReceiptCosts } from \"../../const\";\r\nimport { isDateValid } from \"../../utils\";\r\nimport OrderReceiptItem from \"../order-receipt-item/order-receipt-item\";\r\nimport { setPrice } from \"../../store/action\";\r\n\r\ndayjs.extend(CustomParseFormat)\r\n\r\nconst HOURS_IN_A_DAY = 24;\r\nconst MINUTES_IN_AN_HOUR = 60;\r\nconst DAYS_IN_A_WEEK = 7;\r\nconst minutesInADay = HOURS_IN_A_DAY * MINUTES_IN_AN_HOUR\r\n\r\nconst RateUnitDividers = {\r\n    \"мин\": 1,\r\n    \"сутки\": MINUTES_IN_AN_HOUR * HOURS_IN_A_DAY,\r\n    \"7 дней\": MINUTES_IN_AN_HOUR * HOURS_IN_A_DAY * DAYS_IN_A_WEEK\r\n}\r\n\r\nconst getDaysDuration = (durationInMinutes) => {\r\n    const duration = Math.trunc(durationInMinutes / minutesInADay)\r\n    return duration !== 0\r\n        ? `${duration}д`\r\n        : ''\r\n}\r\nconst getHoursDuration = (durationInMinutes) => {\r\n    const duration = Math.trunc(durationInMinutes / MINUTES_IN_AN_HOUR % HOURS_IN_A_DAY)\r\n    return duration !== 0\r\n        ? `${duration}ч`\r\n        : ''\r\n}\r\nconst getMinutesDuration = (durationInMinutes) => {\r\n    const duration = Math.trunc(durationInMinutes / Math.trunc(durationInMinutes / MINUTES_IN_AN_HOUR % HOURS_IN_A_DAY) % MINUTES_IN_AN_HOUR)\r\n    return (duration !== 0) && (!isNaN(duration))\r\n        ? `${duration}м`\r\n        : ''\r\n}\r\n\r\nconst getDurationCost = (rate, duration) => {\r\n    const divider = RateUnitDividers[rate.unit]\r\n    return Math.floor(rate.price * duration / divider)\r\n}\r\n\r\nconst getCurrentCost = (list) => {\r\n    let cost = 0;\r\n    list.map((item) => {\r\n        if (item.price) {\r\n            cost = cost + item.price\r\n        }\r\n    })\r\n    return cost\r\n}\r\n\r\nconst OrderReceipt = () => {\r\n    const dispatch = useDispatch();\r\n\r\n    const city = useSelector((state) => state.city);\r\n    const pickpoint = useSelector((state) => state.pickpoint);\r\n    const model = useSelector((state) => state.model);\r\n    const color = useSelector((state) => state.color);\r\n    const rate = useSelector((state) => state.rate);\r\n    const additions = useSelector((state) => state.additions);\r\n    const dateStart = useSelector((state) => state.dateStart);\r\n    const dateFinish = useSelector((state) => state.dateFinish);\r\n\r\n    let duration = 0;\r\n\r\n    const getDuration = (finishData, startData) => {\r\n        if (isDateValid(finishData) && isDateValid(startData)) {\r\n            duration = dayjs(finishData.value, TIME_FORMAT).diff(dayjs(startData.value, TIME_FORMAT), 'minute');\r\n            return `${getDaysDuration(duration)}${getHoursDuration(duration)}${getMinutesDuration(duration)}`\r\n        }\r\n        return ''\r\n    }\r\n\r\n    const initialDetails = [\r\n        {\r\n            name: `Пункт выдачи`,\r\n            value: [city.name, pickpoint.name].join(``),\r\n            text: [city.name, pickpoint.name].join(`\\n`)\r\n        },\r\n        {\r\n            name: `Модель`,\r\n            value: model.name,\r\n            text: model.name,\r\n            price: model.priceMin\r\n        },\r\n        {\r\n            name: `Цвет`,\r\n            value: color,\r\n            text: color\r\n        },\r\n        {\r\n            name: `Длительность аренды`,\r\n            value: getDuration(dateFinish, dateStart),\r\n            text: getDuration(dateFinish, dateStart),\r\n            price: getDurationCost(rate, duration)\r\n        },\r\n        {\r\n            name: `Тариф`,\r\n            value: rate.name,\r\n            text: rate.name\r\n        },\r\n    ]\r\n\r\n    const [details, setDetails] = useState(initialDetails);\r\n    const [cost, setCost] = useState(0)\r\n\r\n    useEffect(() => {\r\n        const newDetails = initialDetails.slice();\r\n\r\n        additions.slice().forEach((feature) => {\r\n            const newItem = {\r\n                name: ReceiptNames[feature],\r\n                value: feature,\r\n                text: `Да`,\r\n                price: ReceiptCosts[feature]\r\n            };\r\n\r\n            if (!newDetails.includes(newItem)) {\r\n                newDetails.push(newItem);\r\n            }\r\n        })\r\n\r\n        if (!(JSON.stringify(details) === JSON.stringify(newDetails))) {\r\n            const newCost = getCurrentCost(newDetails)\r\n            setCost(newCost)\r\n            dispatch(setPrice(newCost))\r\n            setDetails(newDetails);\r\n        }\r\n\r\n    }, [additions, initialDetails, cost])\r\n\r\n\r\n    return (\r\n        <div className=\"order-page__receipt receipt\">\r\n            <h3 className=\"receipt__title\">Ваш заказ:</h3>\r\n            <ul className=\"receipt__list\">\r\n                {details.filter((detail) => detail.value.length !== 0)\r\n                    .map((detail) => <OrderReceiptItem key={detail.name} name={detail.name} value={detail.text} />)}\r\n            </ul>\r\n            <p className=\"receipt__cost\"><b>Цена:</b>{` ${cost} ₽`}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default OrderReceipt;","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { changeTab } from \"../../store/action\";\r\n\r\n\r\nconst TabFormButton = ({ tab, isValid, label }) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const submitButtonClickHandler = (evt) => {\r\n        evt.preventDefault();\r\n        dispatch(changeTab(tab));\r\n    }\r\n\r\n\r\n    return (\r\n        <button className=\"button button--submit\" type=\"submit\" disabled={!isValid} onClick={submitButtonClickHandler}>{label}</button>\r\n    )\r\n}\r\n\r\nTabFormButton.propTypes = {\r\n    tab: PropTypes.string.isRequired,\r\n    isValid: PropTypes.bool.isRequired,\r\n    label: PropTypes.string.isRequired\r\n}\r\n\r\nexport default TabFormButton;","import React, { useRef } from \"react\";\r\nimport PropTypes from 'prop-types';\r\n\r\nconst TextInput = ({ value, setDataValue, inputInfo: { name, additionalClass, placeholder, label }, isValid, validationText }) => {\r\n    const inputRef = useRef(null);\r\n\r\n    const inputChangeHandler = (evt) => {\r\n        evt.preventDefault();\r\n        setDataValue({\r\n            name,\r\n            value: evt.target.value\r\n        })\r\n    }\r\n\r\n    const resetButtonHandler = (evt) => {\r\n        evt.preventDefault();\r\n        setDataValue({\r\n            name,\r\n            value: ``\r\n        });\r\n        inputRef.current.value = ``;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <input className={`${additionalClass}-form__input form__input`} type=\"text\" name={name} id={name} value={value} placeholder={placeholder} onChange={inputChangeHandler} required ref={inputRef} />\r\n            <label className={`${additionalClass}-form__label form__label`} htmlFor={name}>{label}</label>\r\n            <div className={`form__reset-button-wrapper ${value.length === 0 ? `form__reset-button-wrapper--hidden` : ``}`} data-name={name} onClick={resetButtonHandler}>\r\n                <button className={`${additionalClass}-form__button form__reset-button`} type=\"button\"></button>\r\n            </div>\r\n            <span className={`form__validation-message ${isValid ? `form__validation-message--hidden` : ``}`}>{validationText}</span>\r\n        </>\r\n    )\r\n}\r\n\r\nTextInput.propTypes = {\r\n    value: PropTypes.string.isRequired,\r\n    setDataValue: PropTypes.func.isRequired,\r\n    inputInfo: PropTypes.shape({\r\n        name: PropTypes.string.isRequired,\r\n        additionalClass: PropTypes.string.isRequired,\r\n        placeholder: PropTypes.string.isRequired,\r\n        label: PropTypes.string.isRequired\r\n    }).isRequired,\r\n    isValid: PropTypes.bool,\r\n    validationText: PropTypes.string\r\n}\r\n\r\nexport default TextInput;","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nconst RadioInput = ({ name, form, label, setCurrentFilterValue, currentFilter }) => {\r\n    \r\n    const changeModelTypeHandler = (evt) => setCurrentFilterValue(evt.target.value);\r\n\r\n    return (\r\n        <>\r\n            <input className=\"form__input form__input--radio visually-hidden\" type=\"radio\" name={form} id={name} value={name} checked={currentFilter === name} onChange={changeModelTypeHandler} />\r\n            <label className=\"form__label form__label--radio\" htmlFor={name}>{label}</label>\r\n        </>\r\n    )\r\n}\r\n\r\nRadioInput.propTypes = {\r\n    name: PropTypes.string.isRequired,\r\n    form: PropTypes.string.isRequired,\r\n    label: PropTypes.string.isRequired,\r\n    setCurrentFilterValue: PropTypes.func.isRequired,\r\n    currentFilter: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default RadioInput;","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\n\r\nconst CheckboxInput = ({ name, form, label, setCurrentFilterValue, currentFilter }) => {\r\n\r\n    const inputChangeHandler = (evt) => {\r\n        setCurrentFilterValue(evt.target.value)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <input className=\"form__input form__input--checkbox visually-hidden\" type=\"checkbox\" name={form} id={name} value={name} сhecked={currentFilter.includes(name).toString()} onChange={inputChangeHandler} />\r\n            <label className=\"form__label form__label--checkbox\" htmlFor={name}>{label}</label>\r\n            <div className=\"form__label-tick\"></div>\r\n        </>\r\n    )\r\n}\r\n\r\nCheckboxInput.propTypes = {\r\n    name: PropTypes.string.isRequired,\r\n    form: PropTypes.string.isRequired,\r\n    label: PropTypes.string.isRequired,\r\n    setCurrentFilterValue: PropTypes.func.isRequired,\r\n    currentFilter: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n}\r\n\r\nexport default CheckboxInput;","import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport dayjs from \"dayjs\";\r\nimport CustomParseFormat from \"dayjs/plugin/customParseFormat\";\r\n\r\nimport { Tabs, Additionals, TIME_FORMAT, ReceiptNames, ReceiptCosts, FEATURES_FORM_COLOR_DEFAULT_NAME } from \"../../const.js\";\r\nimport { isDateValid } from \"../../utils.js\"\r\nimport { setColor, setDate, setRate, setAdditions } from \"../../store/action\";\r\nimport { fetchRateDataEntity } from \"../../store/api-action\";\r\n\r\nimport OrderReceipt from \"../order-receipt/order-receipt.jsx\";\r\nimport TabFormButton from \"../tab-form-button/tab-form-button.jsx\";\r\nimport TextInput from \"../text-input/text-input.jsx\";\r\nimport RadioInput from \"../radio-input/radio-input.jsx\";\r\nimport CheckboxInput from \"../checkbox-input/checkbox-input.jsx\";\r\n\r\ndayjs.extend(CustomParseFormat)\r\n\r\nconst DateInputs = [\r\n    {\r\n        name: \"dateStart\",\r\n        additionalClass: \"features\",\r\n        placeholder: \"Введите дату и время\",\r\n        label: \"С\"\r\n    },\r\n    {\r\n        name: \"dateFinish\",\r\n        additionalClass: \"features\",\r\n        placeholder: \"Введите дату и время\",\r\n        label: \"По\"\r\n    }\r\n];\r\n\r\nconst AdditionalsCheckboxes = [\r\n    {\r\n        name: Additionals.FULL_TANK,\r\n        form: \"features\",\r\n        label: `${ReceiptNames[Additionals.FULL_TANK]}, ${ReceiptCosts[Additionals.FULL_TANK]}₽`\r\n    },\r\n    {\r\n        name: Additionals.CHILD_SEAT,\r\n        form: \"features\",\r\n        label: `${ReceiptNames[Additionals.CHILD_SEAT]}, ${ReceiptCosts[Additionals.CHILD_SEAT]}₽`\r\n    },\r\n    {\r\n        name: Additionals.RIGHT_WHEEL,\r\n        form: \"features\",\r\n        label: `${ReceiptNames[Additionals.RIGHT_WHEEL]}, ${ReceiptCosts[Additionals.RIGHT_WHEEL]}₽`\r\n    },\r\n]\r\n\r\nconst BUTTON_LABEL = \"Итого\";\r\nconst FORM_RATE_NAME = \"rate\";\r\nconst FORM_COLOR_NAME = \"color\";\r\n\r\nconst getRateLabel = (name, price, unit) => {\r\n    return `${name}, ${price}₽/${unit}`\r\n}\r\n\r\nconst validateDate = (date, format) => {\r\n    return dayjs(date, format).format(format) === date;\r\n}\r\n\r\nconst FeaturesForm = () => {\r\n    const stateAdditions = useSelector((state) => state.additions)\r\n    const modelColors = useSelector((state) => state.modelColors)\r\n\r\n    const [isValid, setIsValid] = useState(false);\r\n    const [currentColor, setCurrentColor] = useState(FEATURES_FORM_COLOR_DEFAULT_NAME);\r\n    const [currentDate, setCurrentDate] = useState({\r\n        dateStart: {\r\n            value: useSelector((state) => state.dateStart.value),\r\n            valid: true\r\n        },\r\n        dateFinish: {\r\n            value: useSelector((state) => state.dateFinish.value),\r\n            valid: true\r\n        }\r\n    });\r\n    const [currentRate, setCurrentRate] = useState(useSelector((state) => state.rate));\r\n    const [rateData, setRateData] = useState([])\r\n    const [additionsList, setAdditionsList] = useState(stateAdditions);\r\n\r\n\r\n    const colorRadios = modelColors.map((color) => {\r\n        return {\r\n            name: color,\r\n            form: FORM_COLOR_NAME,\r\n            label: color\r\n        }\r\n    })\r\n\r\n    const setColorValue = (color) => {\r\n        setCurrentColor(color)\r\n    };\r\n    const setDateValue = (dateValue) => {\r\n        setCurrentDate({\r\n            ...currentDate, [dateValue.name]: {\r\n                value: dateValue.value,\r\n                valid: validateDate(dateValue.value, TIME_FORMAT)\r\n            }\r\n        });\r\n    }\r\n    const setRateValue = (name) => {\r\n        const activeRate = rateData.find((rate) => rate.name === name)\r\n        setCurrentRate(activeRate);\r\n    }\r\n    const setAdditionsValue = (feature) => {\r\n        const newList = stateAdditions.slice();\r\n        const index = newList.indexOf(feature);\r\n        newList.includes(feature)\r\n            ? newList.splice(index, 1)\r\n            : newList.push(feature)\r\n        setAdditionsList(newList)\r\n    }\r\n\r\n    const checkIsValid = () => {\r\n        return isDateValid(currentDate.dateStart) && isDateValid(currentDate.dateFinish) && currentRate.name !== ''\r\n            ? setIsValid(true)\r\n            : setIsValid(false)\r\n    };\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        if (!rateData.length) {\r\n            dispatch(fetchRateDataEntity())\r\n                .then((response) => {\r\n                    const parsedRateData = response.map(({ id, price, rateTypeId: { unit, name } }) => {\r\n                        return {\r\n                            id,\r\n                            price,\r\n                            unit,\r\n                            name,\r\n                            form: FORM_RATE_NAME\r\n                        }\r\n                    })\r\n                    setRateData(parsedRateData)\r\n                })\r\n        }\r\n\r\n        setCurrentColor(currentColor);\r\n        setCurrentDate(currentDate);\r\n        setCurrentRate(currentRate);\r\n        setAdditionsList(additionsList);\r\n\r\n        checkIsValid();\r\n        dispatch(setColor(currentColor));\r\n        dispatch(setDate(currentDate));\r\n        dispatch(setRate(currentRate));\r\n        dispatch(setAdditions(additionsList));\r\n    }, [currentColor, currentDate, currentRate, additionsList])\r\n\r\n    return (\r\n        <form className=\" features-form form\">\r\n            <div className=\"order-page__form\">\r\n                <div className=\"order-page__form-wrapper features-form__wrapper\">\r\n                    <fieldset className=\"features-form__fieldset features-form__fieldset--color form__fieldset\">\r\n                        <legend className=\"features-form__legend form__legend\">Цвет</legend>\r\n                        <ul className=\"features-form__list features-form__list--color\">\r\n                            {colorRadios.map(({ name, form, label }) =>\r\n                                <li className=\"features-form__item\" key={name}>\r\n                                    <RadioInput key={name} name={name} form={form} label={label} setCurrentFilterValue={setColorValue} currentFilter={currentColor} />\r\n                                </li>\r\n                            )}\r\n                        </ul>\r\n                    </fieldset>\r\n\r\n                    <fieldset className=\"features-form__fieldset features-form__fieldset--date form__fieldset\">\r\n                        <legend className=\"features-form__legend form__legend\">Дата аренды</legend>\r\n                        <ul className=\"features-form__list features-form__list--date\">\r\n                            {DateInputs.map((input) =>\r\n                                <li className=\"features-form__item\" key={input.name}>\r\n                                    <TextInput setDataValue={setDateValue} inputInfo={input} value={currentDate[input.name].value} isValid={currentDate[input.name].valid} validationText={'формат [ДД.ММ.ГГГГ ЧЧ:ММ]'} />\r\n                                </li>)}\r\n                        </ul>\r\n                    </fieldset>\r\n\r\n                    <fieldset className=\"features-form__fieldset features-form__fieldset--rate form__fieldset\">\r\n                        <legend className=\"features-form__legend form__legend\">Тариф</legend>\r\n                        <ul className=\"features-form__list features-form__list--rate\">\r\n                            {rateData.map(({ id, price, unit, name, form }) =>\r\n                                <li className=\"features-form__item\" key={id}>\r\n                                    <RadioInput key={id} name={name} form={form} label={getRateLabel(name, price, unit)} setCurrentFilterValue={setRateValue} currentFilter={currentRate.name} />\r\n                                </li>\r\n                            )}\r\n                        </ul>\r\n                    </fieldset>\r\n\r\n                    <fieldset className=\"features-form__fieldset features-form__fieldset--additional form__fieldset\">\r\n                        <legend className=\"features-form__legend form__legend\">Доп услуги</legend>\r\n                        <ul className=\"features-form__list features-form__list--additional\">\r\n                            {AdditionalsCheckboxes.map(({ name, form, label }) =>\r\n                                <li className=\"features-form__item\" key={name}>\r\n                                    <CheckboxInput key={name} name={name} form={form} label={label} setCurrentFilterValue={setAdditionsValue} currentFilter={additionsList} />\r\n                                </li>\r\n                            )}\r\n                        </ul>\r\n                    </fieldset>\r\n                </div>\r\n                <div className=\"order-page__receipt-wrapper\">\r\n                    <OrderReceipt />\r\n                    <TabFormButton tab={Tabs.get('RESULT')} isValid={isValid} label={BUTTON_LABEL} />\r\n                </div>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default FeaturesForm;","import React, { useEffect, useState } from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport { YMaps, Map, Placemark } from \"react-yandex-maps\";\r\n\r\n\r\nconst defaultlMark = {\r\n    defaultZoom: 5,\r\n    center: [64.6863136, 97.7453061],\r\n    controls: ['zoomControl']\r\n}\r\n\r\nconst ZOOM = 14;\r\n\r\nconst MapComponent = ({ activeCity, activeMarker, markersData }) => {\r\n    const { defaultZoom, center, controls } = defaultlMark;\r\n\r\n    const [savedYmaps, setSavedYmaps] = useState(null)\r\n    const [zoom, setZoom] = useState(defaultZoom)\r\n    const [activeCityCoords, setActiveCityCoords] = useState(center)\r\n    const [activeMarkerCoords, setActiveMarkerCoords] = useState(activeCityCoords)\r\n    const [markers, setMarkers] = useState([])\r\n\r\n    useEffect(() => {\r\n        if (savedYmaps !== null) {\r\n            return unmountSequence(savedYmaps)\r\n        }\r\n    }, [activeCity, activeMarker, markersData])\r\n\r\n    const geocode = (ymaps, location, callback) => {\r\n        ymaps.geocode(location, {\r\n            results: 1\r\n        }).then((response) => {\r\n            const firstGeoObject = response.geoObjects.get(0)\r\n            const coords = firstGeoObject.geometry.getCoordinates()\r\n            callback(coords)\r\n        })\r\n    }\r\n\r\n\r\n    const unmountSequence = (ymaps) => {\r\n        const fullAddress = `${activeCity} ${activeMarker}`\r\n        geocode(ymaps, activeCity, setActiveCityCoords)\r\n        geocode(ymaps, fullAddress, setActiveMarkerCoords)\r\n        setZoom(ZOOM)\r\n\r\n        const newMarkers = []\r\n        markersData.slice().map(async (marker) => {\r\n            const fullMarkerAddress = `${activeCity} ${marker.value}`\r\n\r\n            const getGeocodedMarkers = (coords) => {\r\n                newMarkers.push({\r\n                    id: marker.id,\r\n                    value: coords\r\n                })\r\n            }\r\n\r\n            await geocode(ymaps, fullMarkerAddress, getGeocodedMarkers)\r\n        })\r\n        setMarkers(newMarkers)\r\n    }\r\n\r\n    return (\r\n        <YMaps\r\n            query={{\r\n                apikey: \"feb41a37-c229-4389-b72e-c27b3b11c014\",\r\n                load: \"package.full\"\r\n            }}\r\n        >\r\n            {markers.length === 0\r\n                ? < Map\r\n                    state={{ center: activeCityCoords, zoom: zoom, controls: controls }}\r\n                    onLoad={async (ymaps) => {\r\n                        await setSavedYmaps(ymaps)\r\n                    }}\r\n                    width={'100%'}\r\n                    height={'352px'} />\r\n\r\n                : <Map\r\n                    state={{ center: activeMarkerCoords, zoom: zoom, controls: controls }}\r\n                    onLoad={async (ymaps) => {\r\n                        await setSavedYmaps(ymaps)\r\n                    }}\r\n                    width={'100%'}\r\n                    height={'352px'}>\r\n\r\n                    {markers.map((marker) => <Placemark key={marker.id} geometry={marker.value} options={{\r\n                        preset: 'islands#greenCircleIcon',\r\n                    }} />)}\r\n                </Map>\r\n            }\r\n        </YMaps>\r\n    )\r\n}\r\n\r\n\r\n\r\nMapComponent.propTypes = {\r\n    activeCity: PropTypes.string,\r\n    activeMarker: PropTypes.string,\r\n    markersData: PropTypes.array.isRequired\r\n}\r\n\r\nexport default MapComponent;","import React, { useRef, useState } from \"react\";\r\nimport PropTypes from 'prop-types';\r\n\r\nconst AUTOCOMPLETE_LETTER_COUNT = 2;\r\n\r\nconst getFilteredSuggestions = (list, targetValue, setter, callback) => {\r\n    const filteredSuggestions = list.slice().filter((item) => item.value.toLowerCase().includes(targetValue.toLowerCase()))\r\n    setter(filteredSuggestions);\r\n\r\n    if (targetValue.length >= AUTOCOMPLETE_LETTER_COUNT) {\r\n        callback(true)\r\n    }\r\n}\r\n\r\n\r\nconst AutocompleteTextInputs = ({ values: { city, pickpoint }, citiesData, pickpointData, setDataValue, resetLocationData }) => {\r\n    const inputCityRef = useRef(null);\r\n    const inputPickpointRef = useRef('');\r\n    const [isListVisible, setIsListVisible] = useState(false);\r\n    const [cities, setCities] = useState(citiesData);\r\n    const [pickpoints, setPickpoints] = useState(pickpointData);\r\n\r\n    const inputCityChangeHandler = (evt) => {\r\n        evt.preventDefault();\r\n        setDataValue({\r\n            name: 'city',\r\n            value: evt.target.value\r\n        })\r\n\r\n        getFilteredSuggestions(citiesData, evt.target.value, setCities, setIsListVisible)\r\n\r\n        if (!evt.target.value.length) {\r\n            inputPickpointRef.current.value = ``;\r\n        }\r\n    }\r\n\r\n    const inputPickpointChangeHandler = (evt) => {\r\n        evt.preventDefault();\r\n        setDataValue({\r\n            name: 'pickpoint',\r\n            value: evt.target.value\r\n        })\r\n\r\n        getFilteredSuggestions(pickpointData, evt.target.value, setPickpoints, setIsListVisible)\r\n    }\r\n\r\n    const resetButtonCityHandler = (evt) => {\r\n        evt.preventDefault();\r\n        resetLocationData();\r\n        setCities(citiesData)\r\n        inputCityRef.current.value = ``;\r\n    }\r\n\r\n    const resetButtonPickpointHandler = (evt) => {\r\n        evt.preventDefault();\r\n        setDataValue({\r\n            name: 'pickpoint',\r\n            value: ``\r\n        });\r\n        setPickpoints(pickpointData)\r\n        inputPickpointRef.current.value = ``;\r\n    }\r\n\r\n    return (\r\n        <ul className=\"location-form__list\">\r\n            <li className=\"location-form__item\">\r\n                <input className={`location-form__input form__input`} list={`city-list`} name={`city`} id={`city`} value={city.name} placeholder={`Начните вводить город`} onChange={inputCityChangeHandler} required ref={inputCityRef} />\r\n                <label className={`location-form__label form__label`} htmlFor={`city`}>Город</label>\r\n\r\n                <datalist id={`city-list`} className={`form__list ${isListVisible ? '' : 'form__list--hidden'}`}>\r\n                    {cities.map((item) => {\r\n                        return (\r\n                            <option className=\"suggestions__item\" key={item.id} value={item.value} />\r\n                        )\r\n                    })}\r\n                </datalist>\r\n\r\n                <div className={`form__reset-button-wrapper ${(inputCityRef.current && inputCityRef.current.value.length === 0) ? `form__reset-button-wrapper--hidden` : ``}`} data-name={`city`} onClick={resetButtonCityHandler}>\r\n                    <button className={`location-form__button form__reset-button`} type=\"button\"></button>\r\n                </div>\r\n            </li>\r\n\r\n            <li className=\"location-form__item\">\r\n                <input className={`location-form__input form__input`} list={`pickpoint-list`} name={`pickpoint`} id={`pickpoint`} value={pickpoint.name} placeholder={`Начните вводить пункт...`} onChange={inputPickpointChangeHandler} required ref={inputPickpointRef} />\r\n                <label className={`location-form__label form__label`} htmlFor={`pickpoint`}>Пункт выдачи</label>\r\n\r\n                <datalist id={`pickpoint-list`} className={`form__list ${isListVisible ? '' : 'form__list--hidden'}`}>\r\n                    {pickpoints.map((item) => {\r\n                        return (\r\n                            <option className=\"suggestions__item\" key={item.id} value={item.value} />\r\n                        )\r\n                    })}\r\n                </datalist>\r\n\r\n                <div className={`form__reset-button-wrapper ${(inputPickpointRef.current && inputPickpointRef.current.value.length === 0) ? `form__reset-button-wrapper--hidden` : ``}`} data-name={`city`} onClick={resetButtonPickpointHandler}>\r\n                    <button className={`location-form__button form__reset-button`} type=\"button\"></button>\r\n                </div>\r\n            </li>\r\n        </ul>\r\n    )\r\n}\r\n\r\nAutocompleteTextInputs.propTypes = {\r\n    setDataValue: PropTypes.func.isRequired,\r\n    citiesData: PropTypes.array.isRequired,\r\n    pickpointData: PropTypes.array.isRequired,\r\n    values: PropTypes.shape({\r\n        city: PropTypes.string.isRequired,\r\n        pickpoint: PropTypes.string.isRequired,\r\n    }).isRequired,\r\n    resetLocationData: PropTypes.func.isRequired\r\n}\r\n\r\nexport default AutocompleteTextInputs;","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport { Tabs } from \"../../const.js\";\r\nimport { setLocation } from \"../../store/action\";\r\nimport { fetchCitiesEntity, fetchPickpoint } from \"../../store/api-action\";\r\n\r\nimport MapComponent from \"../map-component/map-component.jsx\";\r\nimport OrderReceipt from \"../order-receipt/order-receipt.jsx\";\r\nimport AutocompleteTextInputs from \"../autocomplete-text-inputs/autocomplete-text-inputs.jsx\";\r\nimport TabFormButton from \"../tab-form-button/tab-form-button\";\r\n\r\nconst BUTTON_LABEL = \"Выбрать модель\";\r\nconst Labels = {\r\n    CITY: \"city\",\r\n    PICKPOINT: \"pickpoint\"\r\n};\r\n\r\nconst LocationForm = () => {\r\n    const [isValid, setIsValid] = useState(false);\r\n    const [locationData, setLocationData] = useState({\r\n        city: useSelector((state) => state.city.name),\r\n        pickpoint: useSelector((state) => state.pickpoint.name)\r\n    });\r\n    const [citiesData, setCitiesData] = useState(useSelector((state) => state.citiesData));\r\n    const [pickpointData, setPickpointData] = useState(useSelector((state) => state.pickpointData));\r\n    const [pickpoints, setPickpoints] = useState([])\r\n    const [activeCity, setActiveCity] = useState(useSelector((state) => state.city))\r\n    const [activeMarker, setActiveMarker] = useState(useSelector((state) => state.pickpoint))\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        if (citiesData.length === 0) {\r\n            dispatch(fetchCitiesEntity())\r\n                .then((response) => {\r\n                    setCitiesData(response.map((city) => {\r\n                        return {\r\n                            id: city.id,\r\n                            value: city.name\r\n                        }\r\n                    }))\r\n                })\r\n\r\n            dispatch(fetchPickpoint()).then((response) => {\r\n                setPickpointData(response)\r\n\r\n            })\r\n        }\r\n\r\n        const filteredPoints = pickpointData.filter((point) => point.cityId !== null && point.cityId.name === locationData.city)\r\n        setPickpoints(filteredPoints.map((point) => {\r\n            return {\r\n                id: point.id,\r\n                value: point.address\r\n            }\r\n        }))\r\n\r\n        setLocationData(locationData);\r\n        checkIsValid();\r\n        dispatch(setLocation({\r\n            city: activeCity,\r\n            pickpoint: activeMarker\r\n        }));\r\n    }, [activeCity, activeMarker])\r\n\r\n    const checkIsValid = () => {\r\n        return isValid !== (locationData.city.length !== 0 && locationData.pickpoint.length !== 0)\r\n            ? setIsValid(locationData.city.length !== 0 && locationData.pickpoint.length !== 0)\r\n            : isValid\r\n    };\r\n\r\n    const setLocationDataValue = (locationValue) => {\r\n        setLocationData({ ...locationData, [locationValue.name]: locationValue.value })\r\n\r\n        if (locationValue.name === Labels.CITY) {\r\n            const filteredCity = citiesData.slice().filter((item) => item.value === locationValue.value)\r\n\r\n            if (filteredCity.length) {\r\n                setActiveCity({\r\n                    id: filteredCity[0].id,\r\n                    name: filteredCity[0].value\r\n                })\r\n            }\r\n        }\r\n\r\n        if (locationValue.name === Labels.PICKPOINT) {\r\n            const filteredPoints = pickpoints.slice().filter((item) => item.value === locationValue.value)\r\n\r\n            if (filteredPoints.length) {\r\n                setActiveMarker({\r\n                    name: filteredPoints[0].value,\r\n                    id: filteredPoints[0].id\r\n                })\r\n            }\r\n        }\r\n    };\r\n\r\n    const resetLocationData = () => {\r\n        setLocationData({\r\n            city: '',\r\n            pickpoint: ''\r\n        })\r\n    }\r\n\r\n    return (\r\n        <form className=\"location-form form\" >\r\n            <div className=\"order-page__form \">\r\n                <div className=\"order-page__form-wrapper location-form__wrapper\">\r\n                    <fieldset className=\"location-form__fieldset form__fieldset\">\r\n                        <legend className=\"visually-hidden\">Форма выбора местоположения</legend>\r\n                        <AutocompleteTextInputs values={locationData} citiesData={citiesData} pickpointData={pickpoints} setDataValue={setLocationDataValue} resetLocationData={resetLocationData} />\r\n                    </fieldset>\r\n\r\n                    <div className=\"order-page__selection location-form__map\">\r\n                        <h3 className=\"location-form__text\">Выбрать на карте:</h3>\r\n                        <MapComponent activeCity={activeCity.name} markersData={pickpoints} activeMarker={activeMarker.name} />\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"order-page__receipt-wrapper\">\r\n                    <OrderReceipt />\r\n                    <TabFormButton tab={Tabs.get('MODEL')} isValid={isValid} label={BUTTON_LABEL} />\r\n                </div>\r\n            </div>\r\n        </form >\r\n\r\n    )\r\n}\r\n\r\nexport default LocationForm;","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ModelPhoto = ({ name, imgSrc, className }) => {\r\n\r\n    const checkIsValid = () => {\r\n        let isValid = true;\r\n\r\n        if (typeof imgSrc !== 'string') {\r\n            isValid = false;\r\n        } else if (typeof imgSrc === 'string') {\r\n            if (!(imgSrc.includes('jpg') || imgSrc.includes('jpeg') || imgSrc.includes('png'))) {\r\n                isValid = false;\r\n            }\r\n        }\r\n\r\n        return isValid\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {checkIsValid()\r\n                ? <img className={className} src={\r\n                    imgSrc.includes('/files')\r\n                        ? `https://api-factory.simbirsoft1.com${imgSrc}`\r\n                        : imgSrc\r\n                } alt={`${name} view`} width=\"256\" height=\"116\" />\r\n                : <div className=\"gallery__fallback\"></div>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nModelPhoto.propTypes = {\r\n    name: PropTypes.string.isRequired,\r\n    className: PropTypes.string.isRequired,\r\n    imgSrc: PropTypes.oneOfType([PropTypes.string, PropTypes.object]).isRequired,\r\n}\r\n\r\nexport default ModelPhoto;","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\n\r\nimport ModelPhoto from \"../model-photo/model-photo\";\r\n\r\nconst MODEL_FORM_PHOTO_CLASS = \"gallery__picture\"\r\n\r\nconst ModelFormItem = ({ name, id, priceMin, priceMax, imgSrc, isActive, setModelValue }) => {\r\n    const galleryButtonClickHandler = (evt) => {\r\n        evt.preventDefault();\r\n        setModelValue(id);\r\n    }\r\n\r\n    return (\r\n        <article className=\"gallery__item\">\r\n            <button className={`gallery__model-wrapper ${isActive ? `gallery__model-wrapper--visited` : ``}`} type=\"button\" onClick={galleryButtonClickHandler}>\r\n                <div className=\"gallery__text-wrapper\">\r\n                    <h4 className=\"gallery__title\">{name}</h4>\r\n                    <p className=\"gallery__text\">{`${priceMin} - ${priceMax} ₽`}</p>\r\n                </div>\r\n                <ModelPhoto name={name} imgSrc={imgSrc} className={MODEL_FORM_PHOTO_CLASS}/>\r\n            </button>\r\n        </article>\r\n    )\r\n}\r\n\r\nModelFormItem.propTypes = {\r\n    name: PropTypes.string.isRequired,\r\n    id: PropTypes.string.isRequired,\r\n    priceMin: PropTypes.number.isRequired,\r\n    priceMax: PropTypes.number.isRequired,\r\n    imgSrc: PropTypes.oneOfType([PropTypes.string, PropTypes.object]).isRequired,\r\n    isActive: PropTypes.bool.isRequired,\r\n    setModelValue: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default ModelFormItem;","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport { Tabs, MODEL_FORM_RADIO_DEFAULT_NAME, FEATURES_FORM_COLOR_DEFAULT_NAME } from \"../../const.js\";\r\nimport { setModel, setActiveFilter, setModelColors } from \"../../store/action\";\r\nimport { fetchModelsDataEntity, fetchModelTagsDataEntity } from \"../../store/api-action\";\r\n\r\nimport ModelFormItem from \"../model-form-item/model-form-item.jsx\";\r\nimport OrderReceipt from \"../order-receipt/order-receipt.jsx\";\r\nimport TabFormButton from \"../tab-form-button/tab-form-button\";\r\nimport RadioInput from \"../radio-input/radio-input.jsx\";\r\n\r\nconst BUTTON_LABEL = \"Дополнительно\";\r\n\r\nconst FORM_NAME = \"model-type\"\r\n\r\nconst MODEL_FORM_RADIO_DEFAULT = [\r\n    {\r\n        name: MODEL_FORM_RADIO_DEFAULT_NAME,\r\n        form: FORM_NAME,\r\n    }\r\n]\r\n\r\nconst FEATURES_FORM_COLOR_DEFAULT = [FEATURES_FORM_COLOR_DEFAULT_NAME]\r\n\r\nconst getFilteredModelData = (modelData, filterValue) => {\r\n    return modelData.slice().filter((model) => {\r\n        return model.categoryId !== null && model.categoryId.name === filterValue\r\n    })\r\n}\r\n\r\nconst ModelForm = () => {\r\n    const dispatch = useDispatch();\r\n\r\n    const initialModelsData = useSelector((state) => state.modelsData)\r\n\r\n    const [isValid, setIsValid] = useState(false);\r\n    const [currentModel, setCurrentModel] = useState(useSelector((state) => state.model));\r\n    const [currentFilter, setCurrentFilter] = useState(useSelector((state) => state.activeFilter));\r\n    const [models, setModels] = useState(initialModelsData);\r\n    const [categories, setCategories] = useState(MODEL_FORM_RADIO_DEFAULT);\r\n\r\n    if (models?.length === 0) {\r\n        dispatch(fetchModelsDataEntity())\r\n            .then((response) => {\r\n                setModels(response)\r\n            })\r\n\r\n        dispatch(fetchModelTagsDataEntity())\r\n            .then((categoryData) => {\r\n                const categoryTags = categoryData.map((category) => {\r\n                    return {\r\n                        name: category.name,\r\n                        form: FORM_NAME,\r\n                        id: category.id\r\n                    }\r\n                })\r\n                setCategories(MODEL_FORM_RADIO_DEFAULT.concat(categoryTags))\r\n            })\r\n    }\r\n\r\n    const setModelValue = (modelId) => {\r\n        const activeModel = models.find((model) => model.id === modelId)\r\n        setCurrentModel(activeModel)\r\n        dispatch(setModelColors(FEATURES_FORM_COLOR_DEFAULT.concat(activeModel.colors)))\r\n    };\r\n\r\n    const setCurrentFilterValue = (filter) => {\r\n        setCurrentFilter(filter);\r\n\r\n        filter !== MODEL_FORM_RADIO_DEFAULT.name\r\n            ? setModels(getFilteredModelData(initialModelsData, filter))\r\n            : setModels(initialModelsData)\r\n    };\r\n\r\n    const checkIsValid = () => {\r\n        return isValid !== (currentModel.length !== 0)\r\n            ? setIsValid(currentModel.length !== 0)\r\n            : isValid\r\n    }\r\n\r\n    useEffect(() => {\r\n        setCurrentFilter(currentFilter);\r\n        setCurrentModel(currentModel);\r\n\r\n        checkIsValid();\r\n        dispatch(setModel(currentModel));\r\n        dispatch(setActiveFilter(currentFilter));\r\n    }, [currentModel, currentFilter])\r\n\r\n    return (\r\n        <form className=\"model-form form\">\r\n            <div className=\"order-page__form\">\r\n                <div className=\"order-page__form-wrapper model-form__wrapper\">\r\n                    <fieldset className=\"model-form__fieldset form__fieldset\" >\r\n                        <legend className=\"visually-hidden\">Форма выбора модели</legend>\r\n                        <ul className=\"model-form__list\">\r\n                            {categories.map(({ name, form, id }) =>\r\n                                <li className=\"model-form__item\" key={id}>\r\n                                    <RadioInput key={id} name={name} form={form} label={name} setCurrentFilterValue={setCurrentFilterValue} currentFilter={currentFilter} />\r\n                                </li>\r\n                            )}\r\n                        </ul>\r\n                    </fieldset>\r\n\r\n                    <div className=\"order-page__selection model-form__gallery gallery\">\r\n                        {models?.length !== 0\r\n                            ? models.map(({ id, name, priceMin, priceMax, thumbnail: { path } }) => <ModelFormItem key={id} id={id} name={name} priceMin={priceMin} priceMax={priceMax} imgSrc={path} isActive={name === currentModel} setModelValue={setModelValue} />)\r\n                            : <h4>Данные загружаются</h4>}\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"order-page__receipt-wrapper\">\r\n                    <OrderReceipt />\r\n                    <TabFormButton tab={Tabs.get('ADDITIONS')} isValid={isValid} label={BUTTON_LABEL} />\r\n                </div>\r\n            </div>\r\n        </form>\r\n\r\n\r\n    )\r\n}\r\n\r\nexport default ModelForm;","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { TabNames } from \"../../const\";\r\n\r\nconst OrderNavItem = ({ tab, tabButtonClickHandler, isActiveTab, isTabDisabled }) => {\r\n\r\n    return (\r\n        <li className=\"order-nav__item\" data-tab={tab} onClick={tabButtonClickHandler} >\r\n            <button className={`order-nav__button ${isActiveTab ? \"order-nav__button--active\" : \"\"} ${isTabDisabled ? \"order-nav__button--disabled\" : \"\"}`} type=\"button\" disabled={isTabDisabled}>\r\n                {TabNames[tab]}\r\n            </button>\r\n        </li >\r\n    )\r\n}\r\n\r\nOrderNavItem.propTypes = {\r\n    tab: PropTypes.string.isRequired,\r\n    tabButtonClickHandler: PropTypes.func.isRequired,\r\n    isActiveTab: PropTypes.bool.isRequired,\r\n    isTabDisabled: PropTypes.bool.isRequired\r\n}\r\n\r\nexport default OrderNavItem;","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nimport { Tabs } from \"../../const.js\";\r\nimport { changeTab } from \"../../store/action\";\r\n\r\nimport OrderNavItem from \"../order-nav-item/order-nav-item.jsx\";\r\n\r\nconst OrderNav = ({ activeTab }) => {\r\n    const dispatch = useDispatch();\r\n    let isTabDisabled = false;\r\n    let orderNavList = [];\r\n\r\n    const tabButtonClickHandler = (evt) => {\r\n        evt.preventDefault();\r\n        dispatch(changeTab(evt.target.closest(\".order-nav__item\").dataset.tab));\r\n    };\r\n\r\n    for (const [, value] of Tabs) {\r\n        orderNavList.push(\r\n            <OrderNavItem\r\n                key={value}\r\n                tab={value}\r\n                tabButtonClickHandler={tabButtonClickHandler}\r\n                isActiveTab={value === activeTab}\r\n                isTabDisabled={isTabDisabled}\r\n            />\r\n        );\r\n\r\n        if (value === activeTab) {\r\n            isTabDisabled = true;\r\n        }\r\n    }\r\n\r\n    return <ol className=\"order-page__nav order-nav\">{orderNavList}</ol>;\r\n};\r\n\r\nOrderNav.propTypes = {\r\n    activeTab: PropTypes.string.isRequired\r\n}\r\n\r\nexport default OrderNav;\r\n","import React from \"react\";\r\nimport {\r\n    useDispatch,\r\n    useSelector\r\n} from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { RoutePath } from \"../../const.js\";\r\nimport { postOrder } from \"../../store/api-action.js\";\r\nimport { adaptOrderToPost } from \"../../utils.js\";\r\n\r\n\r\nconst ModalCheckout = ({ isModalOpen, clickHandler }) => {\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n\r\n    const model = useSelector((state) => state.model);\r\n    const city = useSelector((state) => state.city);\r\n    const point = useSelector((state) => state.pickpoint);\r\n    const color = useSelector((state) => state.color);\r\n    const dateStart = useSelector((state) => state.dateStart);\r\n    const dateFrom = useSelector((state) => state.dateFinish);\r\n    const rate = useSelector((state) => state.rate);\r\n    const price = useSelector((state) => state.price);\r\n    const additionsList = useSelector((state) => state.additions);\r\n\r\n    const getPostData = () => {\r\n        return adaptOrderToPost(\r\n            city.id,\r\n            point.id,\r\n            model.id,\r\n            color,\r\n            dateFrom.value,\r\n            dateStart.value,\r\n            rate.id,\r\n            price,\r\n            additionsList\r\n        )\r\n    }\r\n\r\n    const confirmClickHandler = (evt) => {\r\n        evt.preventDefault()\r\n        dispatch(postOrder(getPostData()))\r\n            .then((id) => {\r\n                history.push(`${RoutePath.CHECKOUT}${id}`)\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div className={`modal ${isModalOpen ? `` : `modal--closed`}`}>\r\n            <div className=\"modal__wrapper\">\r\n                <h3 className=\"modal__title\">Подтвердить заказ</h3>\r\n                <button className=\"button button--modal-link\" onClick={confirmClickHandler}>Подтвердить</button>\r\n                <button className=\"button button--modal-close button--checkout-color\" type=\"button\" onClick={clickHandler}>Вернуться</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nModalCheckout.propTypes = {\r\n    isModalOpen: PropTypes.bool.isRequired,\r\n    clickHandler: PropTypes.func.isRequired\r\n}\r\n\r\nexport default ModalCheckout;","import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport { getFuelTank } from \"../../utils.js\";\r\nimport { setFuelTank } from \"../../store/action.js\";\r\n\r\nimport OrderReceipt from \"../order-receipt/order-receipt.jsx\";\r\nimport ModelPhoto from \"../model-photo/model-photo.jsx\";\r\nimport ModalCheckout from \"../modal-checkout/modal-checkout.jsx\";\r\n\r\nconst RESULT_FORM_PHOTO_CLASS = \"result__picture\"\r\n\r\nconst ResultForm = () => {\r\n    const dispatch = useDispatch();\r\n    const [isModalOpen, setIsModalOpen] = useState(false);\r\n\r\n    const model = useSelector((state) => state.model);\r\n    const dateStart = useSelector((state) => state.dateStart);\r\n    const additionsList = useSelector((state) => state.additions)\r\n\r\n    const fuel = getFuelTank(additionsList, model.tank)\r\n    dispatch(setFuelTank(fuel))\r\n\r\n    const modalButtonClickHandler = (evt) => {\r\n        evt.preventDefault();\r\n        setIsModalOpen(!isModalOpen);\r\n    }\r\n\r\n    return (\r\n        <div className=\"order-page__form result\">\r\n            <div className=\"order-page__form-wrapper result__container\">\r\n                <h3 className=\"visually-hidden\">Детали заказа</h3>\r\n                <div className=\"result__wrapper\">\r\n                    <p className=\"result__model\">{model.name}</p>\r\n                    <p className=\"result__plate-number\">{model.number}</p>\r\n                    <p className=\"result__additional\"><b>Топливо </b>{`${fuel}%`}</p>\r\n                    <p className=\"result__additional\"><b>Доступна с </b><span>{dateStart.value}</span></p>\r\n                </div>\r\n                <ModelPhoto name={model.name} imgSrc={model.thumbnail.path} className={RESULT_FORM_PHOTO_CLASS} />\r\n            </div>\r\n\r\n            <div className=\"order-page__receipt-wrapper\">\r\n                <OrderReceipt />\r\n                <button className=\"button button--submit\" type=\"button\" onClick={modalButtonClickHandler}>Заказать</button>\r\n            </div>\r\n            <ModalCheckout isModalOpen={isModalOpen} clickHandler={modalButtonClickHandler} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ResultForm;","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Tabs } from \"../../const.js\";\r\n\r\nimport FeaturesForm from \"../features-form/features-form\";\r\nimport LocationForm from \"../location-form/location-form\";\r\nimport MainHeader from \"../main-header/main-header\";\r\nimport ModelForm from \"../model-form/model-form\";\r\nimport OrderNav from \"../order-nav/order-nav\";\r\nimport ResultForm from \"../result-form/result-form\";\r\n\r\nconst Order = ({ activeTab }) => {\r\n    const currentTab = (tab) => {\r\n        switch (tab) {\r\n            case Tabs.get(\"LOCATION\"):\r\n                return <LocationForm />;\r\n            case Tabs.get(\"MODEL\"):\r\n                return <ModelForm />;\r\n            case Tabs.get(\"ADDITIONS\"):\r\n                return <FeaturesForm />;\r\n            case Tabs.get(\"RESULT\"):\r\n                return <ResultForm />;\r\n            default:\r\n                return <LocationForm />;\r\n        }\r\n    }\r\n\r\n    return (\r\n        <main className=\"order-page\">\r\n            <h2 className=\"visually-hidden\">Страница заказа</h2>\r\n            <MainHeader additionalStyleName={\"order-page__header\"} />\r\n            <section className=\"order-page__content\">\r\n                <OrderNav activeTab={activeTab} />\r\n\r\n                {currentTab(activeTab)}\r\n            </section>\r\n        </main>\r\n    )\r\n}\r\n\r\nOrder.propTypes = {\r\n    activeTab: PropTypes.string.isRequired\r\n}\r\n\r\nconst mapStateToProps = ({ activeTab }) => ({\r\n    activeTab\r\n})\r\n\r\nexport default connect(mapStateToProps)(Order);","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport dayjs from \"dayjs\";\r\nimport CustomParseFormat from \"dayjs/plugin/customParseFormat\";\r\n\r\nimport { ReceiptNames, TIME_FORMAT, Additionals } from \"../../const\";\r\nimport OrderReceiptCheckoutItem from \"../order-receipt-item/order-receipt-item\";\r\n\r\ndayjs.extend(CustomParseFormat)\r\n\r\nconst HOURS_IN_A_DAY = 24;\r\nconst MINUTES_IN_AN_HOUR = 60;\r\nconst minutesInADay = HOURS_IN_A_DAY * MINUTES_IN_AN_HOUR\r\n\r\nconst getDaysDuration = (durationInMinutes) => {\r\n    const duration = Math.trunc(durationInMinutes / minutesInADay)\r\n    return duration !== 0\r\n        ? `${duration}д`\r\n        : ''\r\n}\r\nconst getHoursDuration = (durationInMinutes) => {\r\n    const duration = Math.trunc(durationInMinutes / MINUTES_IN_AN_HOUR % HOURS_IN_A_DAY)\r\n    return duration !== 0\r\n        ? `${duration}ч`\r\n        : ''\r\n}\r\nconst getMinutesDuration = (durationInMinutes) => {\r\n    const duration = Math.trunc(durationInMinutes / Math.trunc(durationInMinutes / MINUTES_IN_AN_HOUR % HOURS_IN_A_DAY) % MINUTES_IN_AN_HOUR)\r\n    return (duration !== 0) && (!isNaN(duration))\r\n        ? `${duration}м`\r\n        : ''\r\n}\r\n\r\nconst OrderReceiptCheckout = ({ data }) => {\r\n    const {\r\n        city,\r\n        car,\r\n        color,\r\n        dateFrom,\r\n        dateTo,\r\n        isFullTank,\r\n        isNeedChildChair,\r\n        isRightWheel,\r\n        point,\r\n        price,\r\n        rate\r\n    } = data\r\n\r\n    let duration = 0;\r\n    const getDuration = (finishData, startData) => {\r\n        duration = dayjs(finishData, TIME_FORMAT).diff(dayjs(startData, TIME_FORMAT), 'minute');\r\n        return `${getDaysDuration(duration)}${getHoursDuration(duration)}${getMinutesDuration(duration)}`\r\n    }\r\n\r\n    const getAdditions = () => {\r\n        const additions = [];\r\n        if (isFullTank) {\r\n            additions.push(Additionals.FULL_TANK)\r\n        }\r\n        if (isNeedChildChair) {\r\n            additions.push(Additionals.CHILD_SEAT)\r\n        }\r\n        if (isRightWheel) {\r\n            additions.push(Additionals.RIGHT_WHEEL)\r\n        }\r\n\r\n        return additions.map((feature) => {\r\n            return {\r\n                name: ReceiptNames[feature],\r\n                value: feature,\r\n                text: `Да`,\r\n            }\r\n        })\r\n    }\r\n\r\n    const details = [\r\n        {\r\n            name: `Пункт выдачи`,\r\n            value: [city.name, point.address].join(``),\r\n            text: [city.name, point.address].join(`\\n`)\r\n        },\r\n        {\r\n            name: `Модель`,\r\n            value: car.name,\r\n            text: car.name\r\n        },\r\n        {\r\n            name: `Цвет`,\r\n            value: color,\r\n            text: color\r\n        },\r\n        {\r\n            name: `Длительность аренды`,\r\n            value: getDuration(dateFrom, dateTo),\r\n            text: getDuration(dateFrom, dateTo)\r\n        },\r\n        {\r\n            name: `Тариф`,\r\n            value: rate.rateTypeId.name,\r\n            text: rate.rateTypeId.name\r\n        },\r\n    ].concat(getAdditions())\r\n\r\n    return (\r\n        <div className=\"order-page__receipt receipt\">\r\n            <h3 className=\"receipt__title\">Ваш заказ:</h3>\r\n            <ul className=\"receipt__list\">\r\n                {details.filter((detail) => detail.value.length !== 0)\r\n                    .map((detail) => <OrderReceiptCheckoutItem key={detail.name} name={detail.name} value={detail.text} />)}\r\n            </ul>\r\n            <p className=\"receipt__cost\"><b>Цена:</b>{` ${price} ₽`}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nOrderReceiptCheckout.propTypes = {\r\n    data: PropTypes.shape({\r\n        isModalOpen: PropTypes.bool.isRequired,\r\n        clickHandler: PropTypes.func.isRequired,\r\n        city: PropTypes.object.isRequired,\r\n        car: PropTypes.object.isRequired,\r\n        color: PropTypes.string.isRequired,\r\n        dateFrom: PropTypes.string.isRequired,\r\n        dateTo: PropTypes.string.isRequired,\r\n        isFullTank: PropTypes.bool.isRequired,\r\n        isNeedChildChair: PropTypes.bool.isRequired,\r\n        isRightWheel: PropTypes.bool.isRequired,\r\n        point: PropTypes.bool.isRequired,\r\n        price: PropTypes.number.isRequired,\r\n        rate: PropTypes.bool.isRequired\r\n    }).isRequired\r\n\r\n}\r\n\r\nexport default OrderReceiptCheckout;","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\n\r\nimport { RoutePath, FULL_TANK_FUEL } from \"../../const.js\";\r\n\r\nimport { fetchOrderData } from \"../../store/api-action.js\";\r\n\r\nimport MainHeader from \"../main-header/main-header\";\r\nimport OrderReceiptCheckout from \"../order-receipt-checkout/order-receipt-checkout\";\r\nimport ModelPhoto from \"../model-photo/model-photo.jsx\";\r\n\r\nconst RESULT_FORM_PHOTO_CLASS = \"result__picture\"\r\n\r\nconst Checkout = () => {\r\n    const dispatch = useDispatch()\r\n    const { id } = useParams()\r\n\r\n    const [orderData, setOrderData] = useState(null)\r\n    const [fuel, setFuel] = useState(FULL_TANK_FUEL)\r\n\r\n    useEffect(() => {\r\n        \r\n        if (orderData === null) {\r\n            dispatch(fetchOrderData(id))\r\n                .then((data) => {\r\n                    setOrderData(data)\r\n\r\n                    data.isFullTank\r\n                        ? setFuel(FULL_TANK_FUEL)\r\n                        : setFuel(data.car.tank)\r\n                })\r\n        }\r\n    }, [orderData])\r\n\r\n    return (\r\n        <>\r\n            {orderData === null\r\n                ? <h2>Данные загружаются</h2>\r\n                : <main className=\"order-page checkout\">\r\n                    <h2 className=\"visually-hidden\">Страница подтвержденного заказа</h2>\r\n                    <MainHeader additionalStyleName={\"order-page__header\"} />\r\n                    <section className=\"order-page__content\">\r\n                        <div className=\"order-page__nav\">\r\n                            <span className=\"order-nav__item checkout__order-info\">{`Заказ номер ${id}`}</span>\r\n                        </div>\r\n                        <div className=\"order-page__form\">\r\n                            <div className=\"order-page__form-wrapper result__container\">\r\n                                <div className=\"result__wrapper\">\r\n                                    <h3 className=\"checkout__title\">Ваш заказ подтверждён</h3>\r\n                                    <p className=\"result__model\">{orderData.car.name}</p>\r\n                                    <p className=\"result__plate-number\">{orderData.car.number}</p>\r\n                                    <p className=\"result__additional\"><b>Топливо </b>{`${fuel}%`}</p>\r\n                                    <p className=\"result__additional\"><b>Доступна с </b><span>{orderData.dateFrom.value}</span></p>\r\n                                </div>\r\n                                <ModelPhoto name={orderData.car.name} imgSrc={orderData.car.thumbnail.path} className={RESULT_FORM_PHOTO_CLASS} />\r\n                            </div>\r\n                            <div className=\"order-page__receipt-wrapper\">\r\n                                <OrderReceiptCheckout data={orderData}/>\r\n                                <Link to={RoutePath.ORDER} className=\"button button--submit button--checkout-color\">Отменить</Link>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </section >\r\n                </main >\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Checkout;","import React from \"react\";\r\nimport { Switch, Route } from 'react-router-dom';\r\n\r\nimport { RoutePath } from '../../const.js';\r\n\r\nimport MainNav from \"../main-nav/main-nav.jsx\";\r\nimport Main from \"../main/main.jsx\";\r\nimport Order from \"../order/order.jsx\";\r\nimport Checkout from \"../checkout/checkout.jsx\";\r\n\r\nfunction App() {\r\n    return (\r\n        <div className=\"app\">\r\n            <Switch>\r\n                <Route exact path={RoutePath.MAIN}>\r\n                    <MainNav />\r\n                    <Main />\r\n                </Route>\r\n            </Switch>\r\n\r\n            <Route exact path={RoutePath.ORDER}>\r\n                <MainNav />\r\n                <Order />\r\n            </Route>\r\n\r\n            <Route exact path={`${RoutePath.CHECKOUT}:id`}>\r\n                <MainNav />\r\n                <Checkout />\r\n            </Route>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import dayjs from \"dayjs\";\r\nimport {\r\n    ActionType,\r\n    Tabs,\r\n    MODEL_FORM_RADIO_DEFAULT_NAME,\r\n    TIME_FORMAT\r\n} from \"../const.js\";\r\n\r\nconst initialState = {\r\n    activeTab: Tabs.get('LOCATION'),\r\n    city: {\r\n        id: '',\r\n        name: ''\r\n    },\r\n    pickpoint: {\r\n        id: '',\r\n        name: ''\r\n    },\r\n    model: {\r\n        name: '',\r\n        number: '',\r\n        tank: '',\r\n        priceMin: 0\r\n    },\r\n    activeFilter: MODEL_FORM_RADIO_DEFAULT_NAME,\r\n    color: '',\r\n    modelColors: [],\r\n    rate: {\r\n        id: '',\r\n        name: '',\r\n        price: 0,\r\n        unit: ''\r\n    },\r\n    additions: [],\r\n    dateStart: {\r\n        value: dayjs().format(TIME_FORMAT),\r\n        valid: true\r\n    },\r\n    dateFinish: {\r\n        value: '',\r\n        valid: true\r\n    },\r\n\r\n    modelsData: [],\r\n    citiesData: [],\r\n    pickpointData: [],\r\n    fuel: 0,\r\n    order: '',\r\n    price: 0,\r\n    orderData: {}\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ActionType.CHANGE_TAB:\r\n            return {\r\n                ...state,\r\n                activeTab: action.payload\r\n            }\r\n\r\n        case ActionType.SET_LOCATION:\r\n            return {\r\n                ...state,\r\n                city: action.payload.city,\r\n                pickpoint: action.payload.pickpoint\r\n            }\r\n\r\n        case ActionType.SET_MODEL:\r\n            return {\r\n                ...state,\r\n                model: action.payload\r\n            }\r\n\r\n        case ActionType.SET_ACTIVE_FILTER:\r\n            return {\r\n                ...state,\r\n                activeFilter: action.payload\r\n            }\r\n\r\n        case ActionType.SET_COLOR:\r\n            return {\r\n                ...state,\r\n                color: action.payload\r\n            }\r\n\r\n        case ActionType.SET_RATE:\r\n            return {\r\n                ...state,\r\n                rate: action.payload\r\n            }\r\n\r\n        case ActionType.SET_ADDITIONS:\r\n            return {\r\n                ...state,\r\n                additions: action.payload\r\n            }\r\n\r\n        case ActionType.SET_DATE:\r\n            return {\r\n                ...state,\r\n                dateStart: action.payload.dateStart,\r\n                dateFinish: action.payload.dateFinish\r\n            }\r\n\r\n        case ActionType.SET_MODELS_DATA:\r\n            return {\r\n                ...state,\r\n                modelsData: action.payload\r\n            }\r\n\r\n        case ActionType.SET_CITIES_DATA:\r\n            return {\r\n                ...state,\r\n                citiesData: action.payload\r\n            }\r\n\r\n        case ActionType.SET_PICKPOINT_DATA:\r\n            return {\r\n                ...state,\r\n                pickpointData: action.payload\r\n            }\r\n\r\n        case ActionType.SET_MODEL_COLORS:\r\n            return {\r\n                ...state,\r\n                modelColors: action.payload\r\n            }\r\n        case ActionType.SET_FUEL_TANK:\r\n            return {\r\n                ...state,\r\n                fuel: action.payload\r\n            }\r\n\r\n        case ActionType.SET_ORDER_ID:\r\n            return {\r\n                ...state,\r\n                order: action.payload\r\n            }\r\n\r\n        case ActionType.SET_PRICE:\r\n            return {\r\n                ...state,\r\n                price: action.payload\r\n            }\r\n        case ActionType.SET_ORDER_DATA:\r\n            return {\r\n                ...state,\r\n                orderData: action.payload\r\n            }\r\n\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n}\r\n\r\nexport default reducer;","import axios from \"axios\";\r\n\r\nconst URL = `https://api-factory.simbirsoft1.com/api`;\r\nconst REQUEST_TIMEOUT = 20000;\r\nconst APPLICATION_ID = '5e25c641099b810b946c5d5b'\r\nconst RANDOM_STRING = 'u5taw48o'\r\nconst SECRET = '4cbcea96de';\r\nconst bearerCode = btoa(`${RANDOM_STRING}:${SECRET}`);\r\n\r\nexport const createAPI = () => {\r\n    const api = axios.create({\r\n        headers: {\r\n            'X-Api-Factory-Application-Id': APPLICATION_ID,\r\n            'Authorization': `Bearer ${bearerCode}`\r\n        },\r\n        baseURL: URL,\r\n        timeout: REQUEST_TIMEOUT\r\n    });\r\n\r\n    const onSuccess = (response) => response;\r\n\r\n    const onFail = (err) => {\r\n        throw err;\r\n    };\r\n\r\n    api.interceptors.response.use(onSuccess, onFail);\r\n\r\n    return api;\r\n};","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { applyMiddleware, createStore } from 'redux';\r\nimport { Provider } from 'react-redux';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport thunk from \"redux-thunk\";\r\n\r\nimport './sass/style.scss';\r\nimport App from './components/app/app.jsx';\r\n\r\nimport reducer from './store/reducer.js';\r\nimport { createAPI } from './services/api.js';\r\n\r\nconst api = createAPI();\r\nconst store = createStore(\r\n  reducer,\r\n  applyMiddleware(thunk.withExtraArgument(api))\r\n);\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <BrowserRouter>\r\n        <App />\r\n      </BrowserRouter>\r\n\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}